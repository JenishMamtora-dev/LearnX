<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>LearnX Admin Pro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">

    <style>
        /* CSS VARIABLES FOR EASY THEMING */
        :root {
            --primary: #4CAF50;
            --bg: #121212;
            --panel: #1E1E1E;
            --text: #E0E0E0;
            --danger: #ff4d4d;
        }

        * {
            box-sizing: border-box
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background: var(--bg);
            color: var(--text);
        }

        /* UTILITIES */
        .btn {
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            color: white;
            font-size: 14px;
        }

        .btn-green {
            background: var(--primary);
        }

        .btn-red {
            background: var(--danger);
        }

        .btn-sm {
            padding: 5px 8px;
            font-size: 12px;
            margin-left: 5px;
        }

        /* LOGIN */
        #login {
            display: flex;
            height: 100vh;
            justify-content: center;
            align-items: center;
        }

        .login-box {
            background: var(--panel);
            padding: 40px;
            border-radius: 12px;
            width: 350px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }

        .login-box h2 {
            text-align: center;
            color: var(--primary);
            margin-bottom: 20px;
        }

        input {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #333;
            border-radius: 6px;
            background: #2a2a2a;
            color: white;
            outline: none;
        }

        input:focus {
            border-color: var(--primary);
        }

        /* SIDEBAR */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 240px;
            height: 100%;
            background: var(--panel);
            padding: 15px;
            transition: .3s;
            z-index: 1000;
        }

        .sidebar.collapsed {
            width: 70px;
        }

        .sidebar .logo {
            font-size: 24px;
            font-weight: bold;
            border-bottom: 1px solid #333;
            padding-bottom: 15px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar span {
            color: var(--primary);
        }

        .toggle {
            position: absolute;
            right: -12px;
            top: 25px;
            background: var(--primary);
            color: white;
            padding: 5px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid var(--bg);
        }

        .menu a {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            margin-top: 5px;
            border-radius: 8px;
            color: #aaa;
            text-decoration: none;
            transition: 0.2s;
            cursor: pointer;
        }

        .menu a:hover,
        .menu a.active {
            background: rgba(76, 175, 80, 0.1);
            color: var(--primary);
        }

        .menu a i {
            font-size: 20px;
        }

        .sidebar.collapsed .text,
        .sidebar.collapsed .logo-text {
            display: none;
        }

        .sidebar.collapsed a {
            justify-content: center;
        }

        /* CONTENT */
        .content {
            margin-left: 240px;
            padding: 30px;
            transition: .3s;
        }

        .sidebar.collapsed~.content {
            margin-left: 70px;
        }

        /* DASHBOARD CARDS */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card-stat {
            background: var(--panel);
            padding: 20px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 3px solid var(--primary);
        }

        .card-stat i {
            font-size: 30px;
            color: var(--primary);
        }

        .card-stat h3 {
            margin: 0;
            font-size: 24px;
        }

        .card-stat p {
            margin: 0;
            font-size: 14px;
            color: #888;
        }

        /* TABLES & FORMS */
        .section {
            display: none;
            animation: fadeIn 0.3s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .panel-card {
            background: var(--panel);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .header-flex {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th {
            text-align: left;
            color: #888;
            font-size: 13px;
            text-transform: uppercase;
            padding: 10px;
            border-bottom: 1px solid #333;
        }

        td {
            padding: 12px 10px;
            border-bottom: 1px solid #2a2a2a;
            color: #ddd;
        }

        tr:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        /* NOTIFICATION TOAST */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 4px;
            padding: 12px;
            position: fixed;
            z-index: 1;
            right: 30px;
            bottom: 30px;
            border-left: 5px solid var(--primary);
            font-size: 15px;
        }

        #toast.show {
            visibility: visible;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }

        @keyframes fadein {
            from {
                bottom: 0;
                opacity: 0;
            }

            to {
                bottom: 30px;
                opacity: 1;
            }
        }

        @keyframes fadeout {
            from {
                bottom: 30px;
                opacity: 1;
            }

            to {
                bottom: 0;
                opacity: 0;
            }
        }
    </style>
</head>

<body>

    <div id="toast">Operation Successful</div>

    <div id="login">
        <div class="login-box">
            <h2><i class='bx bxs-lock-alt'></i> Admin Panel</h2>
            <input id="user" placeholder="Username (admin)">
            <input id="pass" type="password" placeholder="Password (1234)">
            <button class="btn btn-green" style="width:100%; margin-top:20px" onclick="login()">LOGIN</button>
            <p style="color:red; text-align:center; display:none" id="loginError">Invalid Credentials</p>
        </div>
    </div>

    <div id="admin" style="display:none">

        <div class="sidebar">
            <div class="logo">
                <i class='bx bxs-graduation'></i>
                <div class="logo-text">Learn<span>X</span></div>
            </div>
            <i class='bx bx-chevron-left toggle'></i>

            <div class="menu">
                <a onclick="show('dash')" class="active"><i class='bx bxs-dashboard'></i>
                    <div class="text">Dashboard</div>
                </a>
                <a onclick="show('users')"><i class='bx bxs-user-detail'></i>
                    <div class="text">Users</div>
                </a>
                <a onclick="show('courses')"><i class='bx bxs-book-content'></i>
                    <div class="text">Courses</div>
                </a>
                <a onclick="logout()" style="margin-top:auto; color:var(--danger)"><i class='bx bx-log-out'></i>
                    <div class="text">Logout</div>
                </a>
            </div>
        </div>

        <div class="content">

            <div id="dash" class="section active">
                <h2>Dashboard Overview</h2>
                <div class="stats-grid">
                    <div class="card-stat">
                        <i class='bx bxs-user'></i>
                        <div>
                            <h3 id="uCount">0</h3>
                            <p>Total Users</p>
                        </div>
                    </div>
                    <div class="card-stat">
                        <i class='bx bxs-book'></i>
                        <div>
                            <h3 id="cCount">0</h3>
                            <p>Active Courses</p>
                        </div>
                    </div>
                    <div class="card-stat">
                        <i class='bx bxs-envelope'></i>
                        <div>
                            <h3>12</h3>
                            <p>Unread Messages</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="users" class="section">
                <div class="panel-card">
                    <h3>Add New User</h3>
                    <div style="display:flex; gap:10px;">
                        <input id="uname" placeholder="Full Name">
                        <input id="uemail" placeholder="Email Address">
                        <button class="btn btn-green" style="margin-top:10px" onclick="addUser()">+ Add User</button>
                    </div>
                </div>

                <div class="panel-card">
                    <div class="header-flex">
                        <h3>User List</h3>
                        <input type="text" id="searchUser" onkeyup="render()" placeholder="Search users..."
                            style="width:200px; margin:0">
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="userTable"></tbody>
                    </table>
                </div>
            </div>

            <div id="courses" class="section">
                <div class="panel-card">
                    <h3>Add New Course</h3>
                    <div style="display:flex; gap:10px;">
                        <input id="cname" placeholder="Course Title">
                        <button class="btn btn-green" style="margin-top:10px" onclick="addCourse()">+ Add
                            Course</button>
                    </div>
                </div>

                <div class="panel-card">
                    <h3>Course List</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Course Name</th>
                                <th>ID</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="courseTable"></tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>

    <script>
        /* --- CONFIG & INIT --- */
        // Using Unique IDs for safer deletion
        let users = JSON.parse(localStorage.users || "[]");
        let courses = JSON.parse(localStorage.courses || "[]");

        if (localStorage.login === "yes") loadAdmin();

        /* --- AUTHENTICATION --- */
        function login() {
            const u = document.getElementById("user").value;
            const p = document.getElementById("pass").value;
            const err = document.getElementById("loginError");

            if (u === "admin" && p === "1234") {
                localStorage.login = "yes";
                loadAdmin();
            } else {
                err.style.display = "block";
                // Shake effect logic could go here
            }
        }

        function logout() {
            localStorage.removeItem("login");
            location.reload();
        }

        function loadAdmin() {
            document.getElementById("login").style.display = "none";
            document.getElementById("admin").style.display = "block";
            render();
        }

        /* --- UI LOGIC --- */
        document.querySelector(".toggle").onclick = () => {
            document.querySelector(".sidebar").classList.toggle("collapsed");
        };

        function show(id) {
            document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
            document.getElementById(id).classList.add("active");
            document.querySelectorAll(".menu a").forEach(a => a.classList.remove("active"));
            event.currentTarget.classList.add("active");
        }

        function showToast(msg) {
            const x = document.getElementById("toast");
            x.innerText = msg;
            x.className = "show";
            setTimeout(() => { x.className = x.className.replace("show", ""); }, 3000);
        }

        /* --- CRUD OPERATIONS --- */

        // ADD USER
        function addUser() {
            const n = document.getElementById("uname");
            const e = document.getElementById("uemail");

            // VALIDATION
            if (n.value.trim() === "" || e.value.trim() === "") {
                alert("Please fill all fields!");
                return;
            }

            users.push({ id: Date.now(), n: n.value, e: e.value });
            n.value = ""; e.value = ""; // Clear inputs
            save();
            showToast("User Added Successfully");
        }

        // ADD COURSE
        function addCourse() {
            const c = document.getElementById("cname");

            if (c.value.trim() === "") return alert("Course name required");

            courses.push({ id: Date.now(), name: c.value });
            c.value = "";
            save();
            showToast("Course Added");
        }

        // DELETE FUNCTION
        function delUser(id) {
            if (confirm("Are you sure you want to delete this user?")) {
                users = users.filter(u => u.id !== id);
                save();
                showToast("User Deleted");
            }
        }

        function delCourse(id) {
            if (confirm("Delete this course?")) {
                courses = courses.filter(c => c.id !== id);
                save();
                showToast("Course Deleted");
            }
        }

        // SAVE & RENDER
        function save() {
            localStorage.users = JSON.stringify(users);
            localStorage.courses = JSON.stringify(courses);
            render();
        }

        function render() {
            const search = document.getElementById("searchUser").value.toLowerCase();
            const uTable = document.getElementById("userTable");
            const cTable = document.getElementById("courseTable");

            // Render Users with Filter
            uTable.innerHTML = "";
            users.forEach(u => {
                if (u.n.toLowerCase().includes(search) || u.e.toLowerCase().includes(search)) {
                    uTable.innerHTML += `
        <tr>
          <td><b>${ u.n }</b></td>
          <td>${ u.e }</td>
          <td>
            <button class="btn btn-red btn-sm" onclick="delUser(${ u.id })"><i class='bx bx-trash'></i></button>
          </td>
        </tr>`;
                }
            });

            // Render Courses
            cTable.innerHTML = "";
            courses.forEach(c => {
                cTable.innerHTML += `
      <tr>
        <td><b>${ c.name }</b></td>
        <td>#${ c.id }</td>
        <td><button class="btn btn-red btn-sm" onclick="delCourse(${ c.id })"><i class='bx bx-trash'></i></button></td>
      </tr>`;
            });

            // Update Dashboard Counts
            document.getElementById("uCount").innerText = users.length;
            document.getElementById("cCount").innerText = courses.length;
        }
    </script>

</body>

</html>